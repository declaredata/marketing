<!doctype html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9NTNB02T9M"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-9NTNB02T9M');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DeclareData | Fuse Playground</title>
    <link rel="stylesheet" href="/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/@antonz/codapi@0.19.7/dist/snippet.css" />
    <script src="https://unpkg.com/@antonz/codapi@0.19.7/dist/settings.js"></script>
    <style>
      @keyframes logo-animation {
        0% {
          stroke-dashoffset: 0;
        }
        100% {
          stroke-dashoffset: 18;
        }
      }

      .animate-logo {
        animation: logo-animation 2s linear infinite;
      }

      @media (max-width: 767px) {
        .logo-text {
          display: none;
        }

        .logo-svg {
          margin: 0 auto;
        }
      }

      @keyframes dataMotion1 {
        0%,
        100% {
          transform: translateY(0);
          opacity: 1;
        }
        25% {
          transform: translateY(-5px);
          opacity: 0.8;
        }
        50% {
          transform: translateY(5px);
          opacity: 0.6;
        }
        75% {
          transform: translateY(-10px);
          opacity: 0.8;
        }
      }
      @keyframes dataMotion2 {
        0%,
        100% {
          transform: translateY(0);
          opacity: 1;
        }
        25% {
          transform: translateY(-8px);
          opacity: 0.7;
        }
        50% {
          transform: translateY(10px);
          opacity: 0.5;
        }
        75% {
          transform: translateY(-6px);
          opacity: 0.7;
        }
      }
      @keyframes dataMotion3 {
        0%,
        100% {
          transform: translateY(0);
          opacity: 1;
        }
        25% {
          transform: translateY(-4px);
          opacity: 0.8;
        }
        50% {
          transform: translateY(8px);
          opacity: 0.6;
        }
        75% {
          transform: translateY(-12px);
          opacity: 0.8;
        }
      }
      @keyframes dataMotion4 {
        0%,
        100% {
          transform: translateY(0);
          opacity: 1;
        }
        25% {
          transform: translateY(-10px);
          opacity: 0.7;
        }
        50% {
          transform: translateY(12px);
          opacity: 0.5;
        }
        75% {
          transform: translateY(-8px);
          opacity: 0.7;
        }
      }

      .animate-logo path:nth-child(1) {
        animation: dataMotion1 2s infinite ease-in-out;
      }
      .animate-logo path:nth-child(2) {
        animation: dataMotion2 2.4s infinite ease-in-out;
      }
      .animate-logo path:nth-child(3) {
        animation: dataMotion3 2s infinite ease-in-out;
      }
      .animate-logo path:nth-child(4) {
        animation: dataMotion4 2.4s infinite ease-in-out;
      }
      codapi-toolbar {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.5rem;
      }

      codapi-toolbar button {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.375rem 0.75rem;
        background-color: #9333ea;
        color: white;
        font-size: 0.875rem;
        font-weight: 500;
        border-radius: 0.375rem;
        transition: background-color 150ms;
      }

      codapi-toolbar button:hover {
        background-color: #7e22ce;
      }

      codapi-toolbar button::before {
        content: '▶';
        font-size: 0.75rem;
      }

      codapi-toolbar a {
        display: inline-flex;
        align-items: center;
        gap: 0.375rem;
        padding: 0.375rem 0.75rem;
        color: #4b5563;
        font-size: 0.875rem;
        font-weight: 500;
        border-radius: 0.375rem;
        transition:
          background-color 150ms,
          color 150ms;
      }

      codapi-toolbar a:hover {
        background-color: #f9fafb;
        color: #111827;
      }

      codapi-toolbar a::before {
        content: '✎';
        font-size: 0.875rem;
      }

      codapi-toolbar codapi-status {
        margin-left: auto;
        margin-right: 0.5rem;
        font-size: 0.8rem;
        color: #4b5563;
      }
      codapi-output {
        border-radius: 0.375rem;
        overflow: hidden;
        font-size: 0.75rem;
      }
      codapi-output pre code {
        color: #1e293b;
        font-size: 0.75rem;
        background-color: #f7fafc;
      }
    </style>
  </head>

  <body class="flex flex-col min-h-screen bg-gray-50 text-gray-950">
    <!-- Header -->
    <header
      id="main-header"
      class="fixed top-0 left-0 flex h-20 w-full transition-all duration-300 ease-in-out backdrop-blur-sm px-4 sm:px-6 lg:px-8 max-w-[2000px] mx-auto container"
    >
      <div class="flex w-full items-center justify-between">
        <a href="/" class="flex-inline">
          <div class="flex items-center">
            <div class="logo-text text-2xl font-light p-1">Declare</div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="35"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              class="animate-logo logo-svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                stroke-dasharray="0.5,4"
                d="M9 3v18"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                stroke-dasharray="0.5,4"
                d="M15 3v18"
                class="stroke-purple-600 from-purple-600 via-purple-700"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                stroke-dasharray="0.5,4"
                d="M21 3v18"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                stroke-dasharray="0.5,4"
                d="M3 3v18"
                class="stroke-purple-600 from-purple-600 via-purple-700"
              />
            </svg>
            <div class="logo-text text-2xl font-light p-1">Data</div>
          </div>
        </a>

        <!-- Desktop Menu -->
        <nav class="hidden md:flex items-center gap-6 ml-auto">
          <a
            href="/resources/playground"
            class="text-md font-normal hover:text-purple-600 transition-colors"
            >Get Started</a
          >
        </nav>

        <!-- Mobile Menu Button -->
        <button
          id="mobile-menu-button"
          class="md:hidden text-gray-500 hover:text-gray-700 focus:outline-none"
          aria-label="Toggle menu"
        >
          <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="0.75"
              d="M4 6h16M4 12h16M4 18h16"
            ></path>
          </svg>
        </button>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-2 bg-white z-50 hidden">
      <button
        id="close-menu-button"
        class="absolute right-6 top-6 text-gray-500 hover:text-gray-700 focus:outline-none p-2"
        aria-label="Close menu"
      >
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
      <nav class="flex flex-col items-center justify-center h-full gap-6">
        <a
          href="/resources/playground"
          class="text-md font-normal hover:text-purple-600 transition-colors"
          >Playground</a
        >
        <a href="#" class="text-md font-normal hover:text-purple-600 transition-colors"
          >Release Log</a
        >
        <a href="/login" class="text-md font-normal hover:text-purple-600 transition-colors"
          >Log In</a
        >
      </nav>
    </div>

    <main class="py-24 lg:py-32 bg-white">
      <article>
        <div class="container px-4 mx-auto max-w-3xl">
          <div class="mb-24">
            <h1 class="text-4xl lg:text-5xl font-normal mb-6">Get Started in &#8804;1 Minute</h1>
            <p class="text-xl text-gray-600 leading-relaxed max-w-2xl">
              From PySpark code running on costly Spark Clusters to DeclareData Fuse in minutes. Our
              mission is to reduce unnecessary complexity and simplify your data processing
              workflows.
            </p>
            <nav class="mt-8">
              <ul class="text-lg space-y-3 max-w-2xl">
                <li>
                  <a
                    href="#overview"
                    class="font-normal hover:text-purple-700 flex items-center gap-2"
                  >
                    <span class="text-lg">•</span>
                    <span class="hover:underline">Overview</span>
                  </a>
                </li>
                <li>
                  <a
                    href="#examples"
                    class="font-normal hover:text-purple-700 flex items-center gap-2"
                  >
                    <span class="text-lg">•</span>
                    <span class="hover:underline">Usage</span>
                  </a>
                </li>
                <li>
                  <a
                    href="#more-examples"
                    class="font-normal hover:text-purple-700 flex items-center gap-2"
                  >
                    <span class="text-lg">•</span>
                    <span class="hover:underline">More Examples</span>
                  </a>
                </li>
                <li>
                  <a
                    href="#install"
                    class="font-normal hover:text-purple-700 flex items-center gap-2"
                  >
                    <span class="text-lg">•</span>
                    <span class="hover:underline">Install</span>
                  </a>
                </li>

                <li>
                  <a
                    href="#deploy"
                    class="font-normal hover:text-purple-700 flex items-center gap-2"
                  >
                    <span class="text-lg">•</span>
                    <span class="hover:underline">Deploy</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>

          <!-- Overview Section -->
          <div id="overview" class="mb-24 scroll-mt-24">
            <h2 class="text-3xl font-normal mb-6">Overview</h2>
            <div class="mb-10">
              <p class="text-xl text-gray-700 leading-relaxed mb-8 max-w-2xl">
                DeclareData Fuse is a drop-in alternative for running PySpark code that operates
                without the need for high overhead and expensive Spark clusters. It is designed to
                run on your local machine as well as in production, providing the same APIs and
                functionality as PySpark and is optimized for working with datasets less than 5TB.
              </p>
              <h4 class="text-lg font-normal mb-4">Why Use Fuse vs Apache Spark?</h4>
              <ul class="text-lg text-gray-700 space-y-2">
                <li>🚀 Process terabyte-scale workflows faster locally and in production</li>
                <li>💰 Cut cloud costs by 50%+ without compromising speed</li>
                <li>😄 Accelerate data engineering workflows, increase happiness</li>
                <li>✨ Keep your existing PySpark codebase</li>
              </ul>
            </div>
          </div>

          <!-- Code Examples Section -->
          <section id="examples" class="mb-24 scroll-mt-24">
            <h2 class="text-3xl font-normal mb-6">Usage</h2>
            <div class="mb-10">
              <p class="text-xl text-gray-700 leading-relaxed mb-4 max-w-2xl">
                Your PySpark code should work without modifications! No need to learn new APIs or
                refactor your codebase.
              </p>
            </div>

            <!-- Basic Example -->
            <div class="mb-16 rounded-lg overflow-hidden border border-gray-200">
              <pre
                class="bg-gray-900 p-6 overflow-x-auto"
              ><code class="text-white text-[15px] leading-relaxed">
# Before: from pyspark.sql import SparkSession
# Before: from pyspark.sql import functions as F
# Before: from pyspark.sql.window import Window

# After: only update the imports
from fuse_python.session import session
import fuse_python.functions as F
from fuse_python.window import Window

# Your existing PySpark code works unchanged
spark = session.builder.getOrCreate()

# Rest of your code stays exactly the same
# S3 support also built-in
data = [
    ("CA", "Los Angeles", 2023, 100),
    ("CA", "San Francisco", 2023, 80),
    ("NY", "New York City", 2023, 150),
    ("NY", "Buffalo", 2023, 70)
]

df = spark.createDataFrame(data, ["state", "city", "year", "incidents"])

window_spec = Window.partitionBy("state") \
                   .orderBy(F.desc("incidents")) \
                   .rowsBetween(Window.unboundedPreceding, Window.currentRow)

result = df.withColumn("running_total", F.sum("incidents").over(window_spec)) \
          .withColumn("rank", F.row_number().over(window_spec)) \
          .orderBy("state", F.desc("incidents"))

result.show()
</code></pre>
              <div class="border-t border-gray-200 pl-6 pt-4">
                <codapi-snippet sandbox="python" editor="basic">
                  <codapi-settings
                    url="http://playground.declaredata.com:1313/v1"
                  ></codapi-settings>
                </codapi-snippet>
              </div>
            </div>

            <!-- connected to playground.declaredata.com:1313 -->
            <div class="mb-16 rounded-lg overflow-hidden border border-gray-200">
              <pre class="bg-gray-900 p-6 overflow-x-auto">
<code class="text-white text-[15px] leading-relaxed">
from fuse_python.dataframe import DataFrame
import fuse_python.functions as F
from fuse_python.column import Column, SortedColumn, SortDirection

# Sample Data
data = [
    ("CA", "Los Angeles", 2023, 100),
    ("CA", "San Francisco", 2023, 80),
    ("NY", "New York City", 2023, 150),
    ("NY", "Buffalo", 2023, 70),
]

# Create a DataFrame
df = DataFrame(data, ["state", "city", "year", "incidents"])

grouped_df = df.groupBy("state")

year_col = Column(name="year")

print(grouped_df)
print(year_col)
</code>
</pre>
              <div class="border-t border-gray-200 pl-6 pt-4">
                <codapi-snippet sandbox="fuse" command="run" editor="basic">
                  <codapi-settings
                    url="http://playground.declaredata.com:1313/v1"
                  ></codapi-settings>
                </codapi-snippet>
              </div>
            </div>

            <div class="mb-10" id="more-examples">
              <h2 class="text-3xl font-normal mb-6">More Examples</h2>
              <p class="text-xl text-gray-700 leading-relaxed mb-4 max-w-2xl">
                Complex operations like window functions work seamlessly. Here's an example
                calculating running totals within categories:
              </p>
            </div>

            <!-- Advanced Example -->
            <div class="mb-16 rounded-lg overflow-hidden border border-gray-200">
              <pre
                class="bg-gray-900 p-6 overflow-x-auto"
              ><code class="text-white text-[15px] leading-relaxed">
from fuse_python.session import session
import fuse_python.functions as F
from fuse_python.window import Window

spark = session.builder.getOrCreate()

# Sample e-commerce data
data = [
    # (date, category, product, price, quantity, customer_id, country)
    ("2023-01-01", "Electronics", "Laptop", 1200.00, 1, "C1", "USA"),
    ("2023-01-01", "Electronics", "Phone", 800.00, 2, "C2", "Canada"),
    ("2023-01-02", "Books", "Python Guide", 50.00, 3, "C1", "USA"),
    ("2023-01-02", "Electronics", "Laptop", 1200.00, 1, "C3", "USA"),
    ("2023-01-03", "Books", "Data Science", 45.00, 2, "C2", "Canada"),
    ("2023-02-01", "Electronics", "Phone", 800.00, 1, "C4", "Mexico")
]

# Create DataFrame with multiple columns
df = spark.createDataFrame(data, [
    "date", "category", "product", "price", 
    "quantity", "customer_id", "country"
])

# Multiple transformations
result = df \
    .withColumn("date", F.to_date("date")) \
    .withColumn("month", F.date_format("date", "yyyy-MM")) \
    .withColumn("revenue", F.col("price") * F.col("quantity")) \
    .withColumn("discount", F.when(F.col("quantity") > 1, 0.1).otherwise(0)) \
    .withColumn("final_revenue", 
                F.col("revenue") * (1 - F.col("discount")))

# Complex windowing
customer_window = Window.partitionBy("customer_id") \
                       .orderBy("date") \
                       .rowsBetween(Window.unboundedPreceding, Window.currentRow)

category_window = Window.partitionBy("category", "month") \
                       .orderBy(F.desc("revenue"))

# Apply multiple window functions
analysis = result \
    .withColumn("customer_total_spend", 
                F.sum("final_revenue").over(customer_window)) \
    .withColumn("category_rank", 
                F.dense_rank().over(category_window)) \
    .withColumn("category_revenue_pct", 
                F.col("revenue") / F.sum("revenue").over(Window.partitionBy("category"))) \
    .withColumn("prev_purchase_date", 
                F.lag("date").over(Window.partitionBy("customer_id").orderBy("date")))

# Complex aggregation
summary = analysis \
    .groupBy("category", "month") \
    .agg(
        F.count("*").alias("total_sales"),
        F.sum("revenue").alias("total_revenue"),
        F.avg("revenue").alias("avg_revenue"),
        F.countDistinct("customer_id").alias("unique_customers"),
        F.collect_list("product").alias("products_sold")
    ) \
    .where(F.col("total_revenue") > 1000) \
    .orderBy(F.desc("total_revenue"))

# Show results
print("Detailed Sales Analysis:")
summary.show(truncate=False)

# Advanced filtering and selection
top_customers = analysis \
    .where((F.col("country").isin("USA", "Canada")) & 
           (F.col("category_rank") == 1)) \
    .select(
        "customer_id",
        "category",
        "month",
        F.round("customer_total_spend", 2).alias("total_spend"),
        F.datediff("date", "prev_purchase_date").alias("days_between_purchases")
    ) \
    .orderBy(F.desc("total_spend"))

print("\nTop Customers by Category:")
top_customers.show()
                </code></pre>
              <div class="border-t border-gray-200 pl-6 pt-4">
                <codapi-snippet sandbox="python" editor="basic"></codapi-snippet>
              </div>
            </div>
          </section>

          <!-- Installation Section -->
          <section class="mb-24">
            <h2 class="text-3xl font-normal mb-6" id="install">Install</h2>
            <p class="text-xl text-gray-600 leading-relaxed mb-6 max-w-2xl">
              Fuse is a standalone server binary and client library that you can install on your
              local machine. It requires no additional dependencies and is designed to work with
              Python 3.10+.
            </p>
            <div class="mb-10">
              <div
                class="flex min-h-10 w-full max-w-xl flex-wrap items-center justify-center gap-6 transition-opacity duration-700"
              >
                <div class="flex flex-col w-full gap-2">
                  <div class="flex justify-center gap-4 text-sm">
                    <button class="platform-btn selected" data-platform="unix">macOS/Linux</button>
                    <button class="platform-btn" data-platform="windows">Windows</button>
                  </div>
                  <code
                    class="copy-code-block text-xs md:text-sm inline-flex text-left items-center bg-gray-800 text-white rounded-lg p-4 pl-6 overflow-x-auto whitespace-nowrap relative w-full"
                  >
                    <span class="flex gap-4 min-w-0 flex-1 pr-8 hover:font-semibold">
                      <span class="shrink-0 text-gray-500 platform-prompt">$</span>
                      <span class="flex-1 overflow-x-auto">
                        <span
                          class="command-text whitespace-nowrap"
                          data-unix="curl -LsSf https://declaredata.com/fuse/install.sh | sh"
                          data-windows="iwr https://declaredata.com/fuse/install.ps1 | iex"
                          >curl -LsSf https://declaredata.com/fuse/install.sh | sh</span
                        >
                      </span>
                    </span>
                    <svg
                      class="copy-icon shrink-0 h-5 w-5 transition text-gray-500 absolute right-4"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path d="M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"></path>
                      <path
                        d="M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"
                      ></path>
                    </svg>
                  </code>
                </div>
              </div>
            </div>
          </section>

          <!-- Deployment Section -->
          <section class="mb-24">
            <h2 class="text-3xl font-normal mb-6" id="deploy">Deploy</h2>
            <div class="mb-10">
              <p class="text-xl text-gray-600 leading-relaxed mb-6 max-w-2xl">
                Deploying your code is as simple as running it locally. WIP.
              </p>
            </div>

            <div class="rounded-lg overflow-hidden border border-gray-200">
              <pre
                class="bg-gray-900 p-6 overflow-x-auto"
              ><code class="text-white text-[15px] leading-relaxed">
from fuse_python.session import session
import fuse_python.functions as F
from contextlib import contextmanager
                </code></pre>
              <div class="border-t border-gray-200 pl-6 pt-4">
                <codapi-snippet sandbox="python" editor="basic"></codapi-snippet>
              </div>
            </div>
          </section>
        </div>
      </article>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 py-8 mt-auto">
      <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm">
          <div>
            <p>&copy; 2024 DeclareData. All rights reserved.</p>
          </div>
          <nav>
            <ul class="flex gap-6">
              <li>
                <a href="/resources/playground" class="text-gray-600 hover:text-purple-600"
                  >Get Started</a
                >
              </li>
              <li>
                <a href="mailto:support@declaredata.com" class="text-gray-600 hover:text-purple-600"
                  >Contact</a
                >
              </li>
              <li><a href="/login" class="text-gray-600 hover:text-purple-600">Log In</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </footer>

    <script src="/dd.js"></script>
    <script src="https://unpkg.com/@antonz/codapi@0.19.7/dist/snippet.js"></script>
  </body>
</html>
